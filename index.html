<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <title>서울 혼잡도 정보 카드</title>
    <style>
        .card-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px; /* 카드 사이 간격 */
            justify-content: center; /* 카드 중앙 정렬 */
        }
        .card {
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            background: #fff;
            width: 200px; /* 카드 폭 */
        }
        .card-image {
            width: 100%;
            height: 150px; /* 고정된 이미지 높이 */
            background-color: #eaeaea; /* 이미지가 없을 때 표시될 배경색 */
        }
        .card-content {
            padding: 10px;
        }
        .card-title {
            margin: 0;
            color: #333;
            font-size: 18px;
            font-weight: 600;
        }
        .card-status {
            display: block;
            padding: 5px 0;
            text-align: center;
            color: #fff;
            font-weight: 500;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>서울 혼잡도 정보</h1>
    <div class="card-container" id="congestionCards">
        <!-- 여기에 카드가 들어갑니다 -->
    </div>

    <script>
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "https://data.seoul.go.kr/SeoulRtd/getCategoryList?page=1&category=%EC%A0%84%EC%B2%B4%EB%B3%B4%EA%B8%B0&count=115&sort=true", true);
        xhr.onload = function () {
            if (xhr.status >= 200 && xhr.status < 300) {
                var response = JSON.parse(xhr.responseText);
                var cardContainer = document.getElementById('congestionCards');

                response.row.forEach(function (item) {
                    var card = document.createElement('div');
                    card.className = 'card';

                    var image = document.createElement('div');
                    image.className = 'card-image';

                    var content = document.createElement('div');
                    content.className = 'card-content';

                    var title = document.createElement('h2');
                    title.className = 'card-title';
                    title.textContent = item.area_nm;

                    var status = document.createElement('div');
                    status.className = 'card-status';
                    status.style.backgroundColor = item.congestion_color;
                    status.textContent = item.area_congest_lvl;

                    content.appendChild(title);
                    content.appendChild(status);

                    card.appendChild(image);
                    card.appendChild(content);

                    cardContainer.appendChild(card);
                });
            } else {
                console.error('The request failed!');
            }
        };
        xhr.send();
    </script>
</body>
</html>
